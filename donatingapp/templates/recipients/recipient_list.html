{% extends 'layout.html' %}
{% block content %}
<h2>Donation Requests</h2>
<table>
    <tr>
        <th>Title</th>
        <th>Recipient</th>
        <th>Amount Needed</th>
        <th>Description</th>
        <th>Action</th>
    </tr>
    {% for req in requests %}
    <tr>
        <td>{{ req.title }}</td>
        <td>{{ req.recipient.username }}</td>
        <td>{{ req.amount_needed }}</td>
        <td>{{ req.description }}</td>
        <td>Status: {% if req.fulfilled %} Fulfilled {% else %} Not Fulfilled {% endif %}</td>
        <td><a href="{% url 'handle_decision' req.id %}">Accept</a></td>
        <td><a href="{% url 'reject_request' req.id %}">Reject</a></td>
        <td>Total Donated: {{ request.total_donated }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="5">No requests available.</td></tr>
    {% endfor %}
</table>
{% endblock %}
